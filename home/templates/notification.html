<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Main</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href="{{url_for('static',filename='main.css')}}">
    <script src='main.js'></script>

    <div class="navigation">
        <div class="topnav">
            <a class="active" href="/mainpage">Main</a>
            <a href="/createpost">Post</a>
            <a href="/adoptmeow">Adopt meow</a>
            <a href="/donation">About</a>
        </div>
        <div class="dropdown">
        <button class="dropbtn">
            <img src="{{ profile_pic }}" class="profilepic">
            {{ current_user.username }}
        </button>
        <div class="dropdown-content" id="dropdownContent">
            <a href="/userprofile">My Profile</a>
            <a href="/notification">Notifications</a>
            <a href="/user_posts">My Posts</a>
            <a href="/catprofile">My Cats</a>
            <a href="/registercat">Register Cat</a>
            <a href="/logout">Log out</a>
        </div>
        </div>  
    </div>

</head>
<body>
    <br />
    <div class="noti-body">
        <h1>{{current_user.username}}'s Notifications</h1>

        <ul>
            {% for notification in notifications %}
                <li>{{notification.notification_type}} on  your post. {{date}} </li>
                {% if notification.notification_type == 'like' %}
                    <li>{{ notification.likes.author.username }} liked your post.</li>
                {% elif notification.notification_type == 'comment' %}
                    {% for comment in post.comments %}
                        <li>{{  notification.comments.author.username }} commented {{ comment.text }} on your post.
                            <a href="{{ url_for('post', post_id=comment.post.id) }}">View Post</a></li>
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </ul>
    </div>
</body>
</html>